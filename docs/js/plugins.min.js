function start(){draw()}function resize(){var t=window.innerWidth,n=window.innerHeight;c.width=t,c.height=n,zoneRadius=.2*c.width,createDots()}function onMouseMove(t){mouse.x=t.clientX,mouse.y=t.clientY}function createDots(){var t=c.width,n=c.height,o=-17,e=-10;nbCols=~~(t/colW)+2,nbLines=~~(n/lineH)+2,nbDots=nbCols*nbLines,dots=[];for(var a=0;a<nbLines;a++)for(var i=0;i<nbCols;i++)dots.push(new Dot(o+i*colW,e+a*lineH))}function drawDots(t,n,o){for(var e,a,i=0;i<nbDots;i++)e=dots[i],a=getDistance(e,action),ctx.globalAlpha=Math.max(1-a/(1.2*zoneRadius),0),ctx.beginPath(),t?(ctx.moveTo(e.ax,e.ay),ctx.arc(e.ax,e.ay,o,0,2*Math.PI,!0)):(ctx.moveTo(e.x,e.y),ctx.arc(e.x,e.y,o,0,2*Math.PI,!0)),ctx.closePath(),ctx.fillStyle=n,ctx.fill()}function drawLines(t){for(var n,o,e,a,i,c=0;c<nbDots;c++)a=~~(c/nbCols),e=c%nbCols,n=dots[c],i=getDistance(n,action),ctx.globalAlpha=Math.max(1-i/(1.2*zoneRadius),.05),ctx.beginPath(),a<nbLines-1&&(o=dots[c+nbCols],ctx.moveTo(n.x,n.y),ctx.lineTo(o.x,o.y)),e<nbCols-1&&(o=dots[c+1],ctx.moveTo(n.x,n.y),ctx.lineTo(o.x,o.y)),ctx.closePath(),ctx.strokeStyle=t,ctx.stroke()}function drawJoints(t){for(var n,o,e=0;e<nbDots;e++)n=dots[e],o=getDistance(n,action),ctx.globalAlpha=Math.max(1-o/(1.2*zoneRadius),.05),ctx.beginPath(),ctx.moveTo(n.x,n.y),ctx.lineTo(n.ax,n.ay),ctx.closePath(),ctx.strokeStyle=t,ctx.stroke()}function getDistance(t,n){return Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y))}function moveDots(){for(var t,n,o,e=0;e<nbDots;e++)t=dots[e],o=-Math.atan2(action.x-t.ax,action.y-t.ay)-.5*Math.PI,n=getDistance(t,action),n<=zoneRadius?(t.x=t.ax+zoneStep*(1-n/zoneRadius)*Math.cos(o),t.y=t.ay+zoneStep*(1-n/zoneRadius)*Math.sin(o)):(t.x=t.ax,t.y=t.ay)}function draw(){requestAnimationFrame(draw),render()}function render(){ctx.clearRect(0,0,c.width,c.height),action.x+=.07*(mouse.x-action.x),action.y+=.07*(mouse.y-action.y),moveDots(),drawLines("#666"),drawJoints("#555555"),drawDots(!0,"#18a497",1)}var c=document.createElement("canvas"),ctx=c.getContext("2d");document.body.appendChild(c),window.onresize=resize,window.addEventListener("mousemove",onMouseMove);var dots=[],colW=70,lineH=54,nbCols,nbLines,nbDots,mouse={x:.5*window.innerWidth,y:.5*window.innerHeight},action={x:.5*window.innerWidth,y:.5*window.innerHeight},zoneRadius,zoneStep=100,Dot=function(t,n){this.x=t,this.y=n,this.ax=t,this.ay=n};resize(),start();
//# sourceMappingURL=plugins.min.js.map
